[gd_scene format=3 uid="uid://co0m5xvpp7a0u"]

[ext_resource type="Script" uid="uid://cvl31bulybavl" path="res://scene/EnemyController.cs" id="1_h08p8"]
[ext_resource type="AudioStream" uid="uid://cv5qu5rc70o6k" path="res://scene/res/audio/enemyDeath.mp3" id="2_f87vc"]
[ext_resource type="AudioStream" uid="uid://d1kygr677hwb7" path="res://scene/res/audio/hit.mp3" id="3_8u16h"]
[ext_resource type="AudioStream" uid="uid://c5gduykm1xni7" path="res://scene/res/audio/laser.mp3" id="4_b7koy"]

[sub_resource type="BoxShape3D" id="BoxShape3D_vufel"]
size = Vector3(0.66239786, 5.2478256, 0.56010056)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vufel"]
albedo_color = Color(0.7861202, 0, 0.20672747, 1)

[sub_resource type="PrismMesh" id="PrismMesh_vufel"]
material = SubResource("StandardMaterial3D_vufel")
size = Vector3(1, 1, 0.2)

[sub_resource type="Curve" id="Curve_f87vc"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.08849558, 0.20224726), 0.0, 0.0, 0, 0, Vector2(0.2256637, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ct4mp"]
curve = SubResource("Curve_f87vc")

[sub_resource type="Gradient" id="Gradient_b7koy"]
colors = PackedColorArray(1, 1, 1, 1, 0.2041653, 0.20416531, 0.2041653, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_oh5ij"]
gradient = SubResource("Gradient_b7koy")

[sub_resource type="Curve" id="Curve_ulb22"]
_data = [Vector2(0, 1), 0.0, 0.22263832, 0, 0, Vector2(1, 0.8876405), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_ml7e8"]
curve = SubResource("Curve_ulb22")

[sub_resource type="Curve" id="Curve_1e552"]
_data = [Vector2(0, 0.19101131), 0.0, 0.0, 0, 0, Vector2(0.11504425, 0.1460675), -0.33857673, -0.33857673, 0, 0, Vector2(0.3362832, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_dk1vr"]
curve = SubResource("Curve_1e552")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_vgurf"]
lifetime_randomness = 0.09
emission_shape = 3
emission_box_extents = Vector3(0.2, 0.2, 0.2)
inherit_velocity_ratio = 1.0
direction = Vector3(0, 1, 0)
spread = 2.0
initial_velocity_max = 120.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_dk1vr")
color = Color(1, 0.8069432, 0.9541356, 1)
color_initial_ramp = SubResource("GradientTexture1D_oh5ij")
alpha_curve = SubResource("CurveTexture_ct4mp")
emission_curve = SubResource("CurveTexture_ml7e8")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fvtld"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true

[sub_resource type="BoxMesh" id="BoxMesh_kqmod"]
material = SubResource("StandardMaterial3D_fvtld")

[sub_resource type="Curve" id="Curve_8u16h"]
_data = [Vector2(0.023364492, 1), 0.0, 0.0, 0, 0, Vector2(0.3598131, 0.3146068), 0.0, 0.0, 0, 0, Vector2(0.53738314, 0.1685394), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_yvcfn"]
curve = SubResource("Curve_8u16h")

[sub_resource type="Gradient" id="Gradient_ulb22"]
offsets = PackedFloat32Array(0, 0.4275862, 1)
colors = PackedColorArray(4.0059752, 0, 0.13048485, 1, 3.6203156, 0.3602804, 0.46646807, 1, 1.9348391, 1.9348391, 1.9348391, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_1e552"]
gradient = SubResource("Gradient_ulb22")

[sub_resource type="Curve" id="Curve_vgurf"]
_data = [Vector2(0, 0.5200777), 0.0, 0.0, 0, 0, Vector2(0.414791, 0.5200777), 0.0, 0.0, 0, 0, Vector2(0.6655948, 0.32642484), -0.17093891, -0.17093891, 0, 0, Vector2(0.78135043, 0.16645074), -0.1909691, -0.1909691, 0, 0, Vector2(0.9356913, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="CurveTexture_kqmod"]
curve = SubResource("Curve_vgurf")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_qhqle"]
particle_flag_align_y = true
angle_min = 1.0728835e-05
angle_max = 1.0728835e-05
direction = Vector3(0, 1, 1)
spread = 171.474
initial_velocity_min = 10.0
initial_velocity_max = 10.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_kqmod")
color = Color(0.8787231, 0.46376452, 1.3269154e-06, 1)
color_ramp = SubResource("GradientTexture1D_1e552")
alpha_curve = SubResource("CurveTexture_yvcfn")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yvcfn"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true

[sub_resource type="PrismMesh" id="PrismMesh_kqmod"]
material = SubResource("StandardMaterial3D_yvcfn")
left_to_right = 0.0
size = Vector3(0.25, 2, 0.25)

[sub_resource type="Curve" id="Curve_h08p8"]
_data = [Vector2(0.023364492, 1), 0.0, 0.0, 0, 0, Vector2(0.3598131, 0.3146068), 0.0, 0.0, 0, 0, Vector2(0.53738314, 0.1685394), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_f87vc"]
curve = SubResource("Curve_h08p8")

[sub_resource type="Gradient" id="Gradient_8u16h"]
offsets = PackedFloat32Array(0, 0.4275862, 1)
colors = PackedColorArray(4.0059752, 0, 0.13048485, 1, 3.6203156, 0.3602804, 0.46646807, 1, 1.9348391, 1.9348391, 1.9348391, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_8u16h"]
gradient = SubResource("Gradient_8u16h")

[sub_resource type="Curve" id="Curve_yvcfn"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.101265825, 0.10852206), 0.0, 0.0, 0, 0, Vector2(0.5537975, 0.14314258), -0.17093891, -0.17093891, 0, 0, Vector2(0.64240503, 0.14314258), -0.1909691, -0.1909691, 0, 0, Vector2(0.863924, 0), 0.0, 0.0, 0, 0]
point_count = 5

[sub_resource type="CurveTexture" id="CurveTexture_b7koy"]
curve = SubResource("Curve_yvcfn")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_1e552"]
lifetime_randomness = 0.29
particle_flag_align_y = true
emission_shape = 1
emission_sphere_radius = 1.0
angle_min = 1.0728835e-05
angle_max = 1.0728835e-05
direction = Vector3(0, 1, 1)
spread = 40.453
initial_velocity_min = 2.0
initial_velocity_max = 2.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_b7koy")
color = Color(0.83379424, 0.8337935, 1.1551381e-06, 1)
color_ramp = SubResource("GradientTexture1D_8u16h")
alpha_curve = SubResource("CurveTexture_f87vc")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_b7koy"]
shading_mode = 0
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true

[sub_resource type="BoxMesh" id="BoxMesh_yvcfn"]
material = SubResource("StandardMaterial3D_b7koy")

[sub_resource type="BoxShape3D" id="BoxShape3D_8u16h"]
size = Vector3(1.5834961, 5.209076, 1.4735107)

[node name="enemy" type="Node3D" unique_id=1079522994 node_paths=PackedStringArray("rigidbody", "hitSound", "shootSound", "enemyMove", "shootParticle", "raycaster", "explode", "deathParticles", "expParticles")]
script = ExtResource("1_h08p8")
rigidbody = NodePath("Enemy")
hitSound = NodePath("Enemy/HitSound")
shootSound = NodePath("Enemy/shootSounds")
speed = 20.0
radius = 10.0
ROTATION_TIME = 12.0
enemyMove = NodePath("Enemy/MeshInstance3D")
shootParticle = NodePath("Enemy/MeshInstance3D/ShootEffect")
combatFrequency = 0.2
HitDamage = 2.5
raycaster = NodePath("Enemy/MeshInstance3D/Raycast")
explode = NodePath("Enemy/AudioStreamPlayer3D")
FRICTION = 0.99
deathParticles = NodePath("Enemy/Explosion")
expParticles = NodePath("Enemy/EXP")
moveAwayUpperRadius = 12
moveAwayLowerRadius = 7
health = 50.0

[node name="Enemy" type="RigidBody3D" parent="." unique_id=50500928]
transform = Transform3D(1.25, 0, 0, 0, 1.25, 0, 0, 0, 1.25, 0, 0, 0)
axis_lock_linear_y = true
axis_lock_angular_x = true
axis_lock_angular_y = true
axis_lock_angular_z = true

[node name="Collider" type="CollisionShape3D" parent="Enemy" unique_id=884107568]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.004428625, 0.16271591, -0.05233264)
shape = SubResource("BoxShape3D_vufel")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Enemy" unique_id=1156599866]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
mesh = SubResource("PrismMesh_vufel")

[node name="Raycast" type="RayCast3D" parent="Enemy/MeshInstance3D" unique_id=1954374991]
transform = Transform3D(1, 0, 0, 0, 1, -3.5527137e-15, 0, 3.5527137e-15, 1, 0, 0.76141405, -3.3282465e-08)
target_position = Vector3(0, 10, 0)
collision_mask = 2
hit_from_inside = true
collide_with_areas = true
collide_with_bodies = false

[node name="ShootEffect" type="GPUParticles3D" parent="Enemy/MeshInstance3D" unique_id=1082154862]
transform = Transform3D(0.9999998, 0, 0, 0, 0.9999998, 0, 0, 7.1054274e-15, 0.9999998, 0, 0.58409613, -0.04113653)
emitting = false
amount = 60
lifetime = 0.65
one_shot = true
explosiveness = 0.9
randomness = 0.44
fixed_fps = 80
local_coords = true
process_material = SubResource("ParticleProcessMaterial_vgurf")
draw_pass_1 = SubResource("BoxMesh_kqmod")

[node name="Explosion" type="GPUParticles3D" parent="Enemy" unique_id=203357927]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, -1, 0, 1, -4.371139e-08, 0, 0, 0)
emitting = false
amount = 70
one_shot = true
speed_scale = 2.0
explosiveness = 0.85
randomness = 0.65
fixed_fps = 60
local_coords = true
process_material = SubResource("ParticleProcessMaterial_qhqle")
draw_pass_1 = SubResource("PrismMesh_kqmod")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Enemy" unique_id=834001012]
stream = ExtResource("2_f87vc")
attenuation_model = 1
volume_db = -3.809
unit_size = 24.94
pitch_scale = 2.09

[node name="HitSound" type="AudioStreamPlayer3D" parent="Enemy" unique_id=1672871974]
stream = ExtResource("3_8u16h")
attenuation_model = 3
volume_db = 10.971
max_db = 6.0
pitch_scale = 0.84

[node name="EXP" type="GPUParticles3D" parent="Enemy" unique_id=91895608]
transform = Transform3D(1, 0, 0, 0, -1, 8.7422784e-08, 0, -8.7422784e-08, -1, 0, 0, 0)
layers = 2
emitting = false
amount = 100
lifetime = 3.0
one_shot = true
explosiveness = 0.85
randomness = 0.65
fixed_fps = 60
local_coords = true
process_material = SubResource("ParticleProcessMaterial_1e552")
draw_pass_1 = SubResource("BoxMesh_yvcfn")

[node name="EnemyRaycastCollider" type="Area3D" parent="Enemy" unique_id=1263689212]
collision_layer = 2
collision_mask = 2

[node name="RaycastCollider" type="CollisionShape3D" parent="Enemy/EnemyRaycastCollider" unique_id=1391469873]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.016845703, 0.13426208, -0.040100098)
shape = SubResource("BoxShape3D_8u16h")

[node name="shootSounds" type="AudioStreamPlayer3D" parent="Enemy" unique_id=438526135]
stream = ExtResource("4_b7koy")
